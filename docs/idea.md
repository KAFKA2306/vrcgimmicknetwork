# VRCギミック技術情報プラットフォーム

## 1. プロジェクト概要

### 1.1 プロジェクト名
VRCギミック技術情報プラットフォーム

### 1.2 背景と目的
VRChatにおけるアバターおよびワールドのギミック開発は、Unity、UdonSharp、アニメーション、シェーダーなど多岐にわたる知識と技術を必要とします。しかしながら、特に日本語で体系的にまとめられた情報は依然として不足しており、初心者から中級者が直面する「暗黙の了解」や特有の仕様の解決が困難な状況にあります。
本プロジェクトは、これらの課題を解決するため、VRChatのギミック開発に関する実践的な知識、Tips、トラブルシューティング情報、さらには衣装改変手順などを集約し、誰もが容易にアクセスし、また情報を投稿できる日本語の技術情報プラットフォームを構築することを目的とします。
これにより、開発者の学習コストを低減し、VRChatコミュニティ全体の技術水準の向上、ひいてはコンテンツの質と量の発展に貢献します。

### 1.3 スコープ
*   VRChatのギミック開発（Udon, UdonSharp, Animator, シェーダー等）に関する技術情報の投稿、閲覧、検索機能の提供。
*   アバターギミック、ワールドギミック、衣装改変手順、最適化Tipsなど、関連する幅広い情報の集約。
*   WordPressをCMSとして採用し、無料サーバー（シンフリーサーバーまたはシンクラウド for FREE）上で、既存のテーマおよびプラグインを最大限に活用したシステム構築。

## 2. 対象ユーザー

*   VRChatのワールド制作者およびアバター改変を行うユーザー全般。
*   ギミック開発に着手したばかりの初心者から、特定の問題解決や技術向上を目指す中級者。
*   上級者に対しては、自身の知識や経験を共有し、コミュニティへ貢献する場、また情報の監修者としての役割を提供。

## 3. システム構成

### 3.1 インフラストラクチャ
*   **サーバー**: シンフリーサーバー または シンクラウド for FREE
    *   ディスク容量: 10GB (SSD/NVMe SSD)
    *   メモリ: 共有環境のため変動（目安1GB程度としてリソース管理に注意）
    *   PHPバージョン: 8.0 以上（WordPress推奨バージョンに準拠）
    *   データベース: MySQL (MariaDB)
    *   **特記事項**: 3ヶ月ごとの利用更新手続きが必須。Googleカレンダー等でリマインダーを設定し、失効を防止する。
*   **ドメイン**: 独自ドメインを取得・使用（例: `vrcgimmick.jp`, `vrcgimmick.info` など）
*   **SSL証明書**: 無料独自SSL（Let's Encrypt等）を利用し、常時HTTPS化を実現。
*   **画像・動画ファイルの取り扱い**:
    *   画像: WordPress標準のメディアアップロード機能を利用。容量節約のため、アップロード時の自動圧縮・リサイズを検討。
    *   動画: YouTube, Vimeo等の外部動画共有サービスへのアップロードと埋め込みを推奨し、サーバー容量を圧迫しないよう配慮する。

### 3.2 ソフトウェア
*   **CMS (コンテンツ管理システム)**: WordPress (常に最新の安定バージョンを利用)
*   **WordPressテーマ**: GeneratePress (無料版) をベースとし、カスタマイズ性と軽量性を両立。
    *   **子テーマ**: 独自のデザイン調整や機能追加は子テーマ（Child Theme）で行い、親テーマのアップデートによる影響を最小限に抑える。
*   **主要WordPressプラグイン**:
    *   **カスタムコンテンツ作成**:
        *   `Custom Post Type UI`: 「ギミック情報」カスタム投稿タイプ、専用カテゴリ・タグを作成。
        *   `Advanced Custom Fields (ACF)`: 記事にUnityバージョン、SDKバージョン等のメタ情報を付加するための入力フィールドを作成。
    *   **コンテンツ表示・編集支援**:
        *   `Enlighter - Customizable Syntax Highlighter`: コードスニペットのシンタックスハイライト表示。
        *   `Easy Table of Contents` (任意): 長文記事の冒頭に目次を自動生成し、可読性を向上。
    *   **運用・保守**:
        *   `Akismet Anti-Spam`: コメントスパム対策。
        *   `UpdraftPlus WordPress Backup Plugin`: 定期的な自動バックアップ（Google Drive等外部ストレージ連携）。
    *   **SEO・パフォーマンス**:
        *   `Yoast SEO`: SEO（検索エンジン最適化）対策。
        *   画像最適化プラグイン (例: `EWWW Image Optimizer`, `ShortPixel Image Optimizer` の無料版): アップロード画像の自動圧縮・WebP変換（任意）。
        *   キャッシュ系プラグイン (例: `LiteSpeed Cache` (サーバー対応時), `WP Super Cache`): サイト表示速度向上（サーバー環境との相性を考慮し導入）。

## 4. データ構造・投稿設計

### 4.1 投稿タイプおよび分類
*   **投稿タイプ**:
    *   `post` (標準投稿): お知らせ、運営情報、コラム等。
    *   `gimmick_info` (カスタム投稿タイプ): VRChatギミックに関する技術情報。
*   **タクソノミー (分類)**:
    *   **カテゴリ (gimmick_category)**: 階層構造を持つ大分類。
        *   例: Udonギミック, アバター改変, ワールド最適化, トラブルシューティング, 衣装改変, シェーダー
    *   **タグ (gimmick_tag)**: 階層構造を持たない横断的なキーワード。
        *   例: ミラー, スイッチ, 同期, Modular Avatar, iwaSync3, VRM, Unity2022

### 4.2 カスタムフィールド (ACFで「ギミック情報」投稿タイプに設定)
*   **Unityバージョン**: セレクトボックス形式（例: 2019.4.31f1, 2022.3.6f1, その他自由入力）
*   **SDKバージョン (VRCSDK)**: テキスト入力（例: VRCSDK3-AVATAR-2023.XX.XX）
*   **対象 (Target)**: チェックボックス（例: ワールド, アバター, 両方）
*   **難易度**: ラジオボタン（例: 初心者向け, 中級者向け, 上級者向け）
*   **前提知識・依存アセット**: リピーターフィールドまたはテキストエリア（使用したアセット名やバージョン、必要な知識などを複数入力可能に）
*   **動作確認環境**: テキスト入力（例: Windows 11, Unity 2022.3.6f1, VRChat Build XXXX）

## 5. 主要機能仕様

### 5.1 コンテンツ投稿・編集機能
*   **投稿権限**: 初期は運営者および許可された投稿者（編集者ロール以上）がWordPress管理画面から「ギミック情報」を投稿。
*   **エディタ**: WordPress標準エディタ（ブロックエディタ推奨、またはクラシックエディタ）。
*   **コンテンツ入力**: タイトル、本文、コードスニペット（Enlighterでシンタックスハイライト）、画像、動画埋め込み。
*   **画像アップロード制限**: 1ファイルあたり2MB以内、1記事あたり15枚まで（サーバー容量と表示速度を考慮）。
*   **メタ情報入力**: カテゴリ、タグ、およびACFで設定したカスタムフィールドの選択・入力を必須または推奨とする。
*   **投稿管理**: プレビュー、下書き保存、公開予約、公開後の編集・削除が可能（ユーザー権限に応じて制御）。

### 5.2 コンテンツ閲覧・検索機能
*   **トップページ**: 「ギミック情報」の新着順一覧（1ページあたり10件表示、ページネーション機能）。
*   **アーカイブページ**: カテゴリ別、タグ別、制作者別（将来的に検討）の「ギミック情報」一覧。
*   **詳細ページ (`single-gimmick_info.php`)**:
    *   記事タイトル、投稿日、更新日、制作者名（任意）。
    *   本文（目次自動生成）。
    *   コードスニペット、画像、埋め込み動画。
    *   カスタムフィールド情報（Unityバージョン、難易度など）を分かりやすく表示。
*   **検索機能**:
    *   WordPress標準の検索フォームを設置。
    *   検索対象: タイトル、本文。将来的にはカスタムフィールド情報も対象とする拡張を検討（`Relevanssi`等のプラグイン利用）。
*   **関連記事表示**: 記事詳細ページ下部などに、同一カテゴリや関連性の高いタグを持つ記事を表示。

### 5.3 ユーザーインタラクション機能
*   **コメント機能**: WordPress標準のコメント機能を利用。
    *   スパム対策: Akismetプラグインを有効化し、スパムコメントを自動判定。
    *   コメント承認: 初回投稿者は手動承認、承認済みユーザーは自動承認、または全コメント承認制など、運用に応じて設定。
*   **記事評価機能 (任意)**: 記事ごとに「役に立った」「分かりやすい」などの評価ができる簡易的なボタンを設置検討（`Rate My Post`等の軽量なプラグインを利用）。

### 5.4 パフォーマンスおよびセキュリティ対策
*   **CDN利用**: Cloudflare等の無料CDNサービスを設定し、静的コンテンツ（HTML, CSS, JavaScript, 画像）のキャッシュ配信と負荷分散を図る。
*   **画像最適化**: アップロード画像の自動圧縮、WebP形式への変換（対応プラグイン利用）。
*   **遅延読み込み (Lazy Loading)**: 画像やiframeコンテンツの遅延読み込みを有効化し、初期表示速度を改善（テーマ機能または専用プラグイン）。
*   **ログインセキュリティ**: `Limit Login Attempts Reloaded`等のプラグインを導入し、ブルートフォース攻撃対策。
*   **その他セキュリティ対策**: WordPressの基本的なセキュリティ対策（`wp-config.php`のパーミッション設定、不要なファイル削除など）を実施。セキュリティプラグイン（`Wordfence Security`等）の導入も検討。

## 6. 業務フロー

### 6.1 コンテンツ投稿フロー (運営者・許可された投稿者)
1.  WordPress管理画面へログイン。
2.  「ギミック情報」カスタム投稿タイプの「新規追加」を選択。
3.  タイトル、本文（コードスニペット、画像・動画埋め込み含む）を入力。
4.  カテゴリ、タグ、カスタムフィールド情報を設定。
5.  プレビュー機能で表示を確認。
6.  「公開」ボタンで記事を公開（または「下書きとして保存」）。

### 6.2 コンテンツ閲覧フロー (一般ユーザー)
1.  サイトのトップページ、カテゴリ一覧、タグ一覧、検索結果などから目的の記事を選択。
2.  記事詳細ページを閲覧。
3.  必要に応じてコメントを投稿。
4.  関連記事やタグから関連情報へ遷移。

### 6.3 コンテンツ管理フロー (管理者・モデレーター)
3.  不適切なコンテンツの編集または削除。

## 7. UI/UX設計指針

*   **テーマカラー**: VRChatの公式イメージカラー（ブルー系）や、落ち着いたグレーを基調とし、信頼感と親しみやすさを両立。アクセントカラーを効果的に使用。
*   **レスポンシブデザイン**: スマートフォン、タブレット、PCなど、あらゆるデバイスで快適に閲覧できるよう、GeneratePressのレスポンシブ機能を活用。
*   **ナビゲーション**: グローバルナビゲーション（ヘッダーメニュー）には、「新着記事」「カテゴリ一覧」「タグ一覧」「検索」「（将来的に）記事投稿ガイド」など、主要な導線を配置。
*   **ギミック詳細ページのレイアウト**:
    *   記事タイトル、重要なメタ情報（Unityバージョン、難易度など）をページ上部に分かりやすく表示。
    *   本文中のコードスニペットは明確に区別し、コピーしやすいように配慮。
    *   画像は本文の流れを妨げないように配置し、必要に応じてキャプションを付与。
*   **目次**: Easy Table of Contentsプラグインにより、長文記事でも目的のセクションに容易にアクセスできるよう、スクロール追従型の目次などを検討。
*   **可読性**:
    *   フォント: ゴシック体ベースの読みやすいウェブフォントを選定。
    *   フォントサイズ: 本文は16px以上を基本とし、行間は1.6～1.8程度で読みやすさを確保。
    *   コード表示: 等幅フォントを使用し、シンタックスハイライトで見やすくする。

## 8. テスト・運用・保守計画

### 8.1 テスト計画
*   **開発環境**: ローカル開発環境（Local by Flywheel, XAMPP等）を構築し、本番環境への影響なく機能開発・検証を行う。
*   **機能テスト**: 記事投稿、編集、削除、検索、コメント投稿、画像アップロード、バックアップ・リストアなど、全主要機能の動作確認。
*   **表示テスト**: 主要ブラウザ（Chrome, Firefox, Edge, Safariの最新版）および主要スマートフォンOS（iOS, Android）での表示崩れや操作性の確認。

### 8.2 運用・保守計画
*   **バックアップ**: UpdraftPlusにより、毎日深夜などに自動でフルバックアップ（データベース＋ファイル）を実行。バックアップデータはGoogle Drive等の外部クラウドストレージに複数世代保存。月1回程度のリストアテストを実施。

## 9. 参考初期カテゴリ・タグ例

### カテゴリ (gimmick_category)
*   Udon / UdonSharp
*   アバターギミック
*   ワールドギミック
*   シェーダー / マテリアル
*   アニメーション / Animator
*   最適化 / パフォーマンス改善
*   トラブルシューティング / エラー解決
*   衣装改変 / アバターアクセサリ
*   ツール / 便利アセット紹介

### タグ (gimmick_tag)
*   ミラー
*   スイッチ
*   ピックアップ
*   テレポート
*   同期処理
*   Modular Avatar
*   lilToon
*   Poiyomi Toon Shader
*   VRM
*   パーティクル
*   エラーログ
*   Quest対応
*   Unity2022
*   VRCSDK3

## 10. サイト公開までの初期スケジュール例 (目標)

1.  **Week 1: 基盤構築**
    *   サーバー契約・ドメイン取得・SSL設定 (1日)
    *   WordPressインストール、テーマ(GeneratePress)・子テーマ設定、必須プラグイン導入 (1日)
    *   カスタム投稿タイプ、タクソノミー、カスタムフィールド(ACF)の設計と実装 (2日)
2.  **Week 2: コンテンツ準備とデザイン調整**
    *   初期デザイン調整（ロゴ、テーマカラー、フォントなど）、基本レイアウト設定 (2日)
    *   運営者によるサンプル記事作成（各カテゴリ最低1記事、合計5～10記事程度） (3日)
3.  **Week 3: テストと公開準備**
    *   機能テスト、表示テスト、パフォーマンステスト（簡易） (2日)

## 11. まとめ

VRChatのギミック開発に関する日本語の技術情報を集約・共有するプラットフォームを、無料サーバーとWordPress、既存のテーマ・プラグインを最大限に活用し、最小限のコストと期間で構築・運用することを目指します。
本プラットフォームが、初心者から上級者まで、すべてのVRChatクリエイターにとって価値ある情報源となり、コミュニティ全体の発展に寄与することを期待します。